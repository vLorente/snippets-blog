---
import { getPostUrlBySlug } from "@utils/url-utils"
import PostCard from "./PostCard.astro"

const { posts } = Astro.props
---

<div
	class="mb-4 flex flex-col py-1 transition md:gap-4 md:bg-transparent md:py-0"
>
	{
		posts.map(
			(entry: {
				data: {
					draft: boolean
					title: string
					tags: string[]
					category: string
					date: Date
					image: ImageMetadata
					description: string
				}
				slug: string
			}) => {
				return (
					<PostCard
						entry={entry}
						title={entry.data.title}
						tags={entry.data.tags}
						category={entry.data.category}
						date={entry.data.date}
						url={getPostUrlBySlug(entry.slug)!}
						image={entry.data.image}
						description={entry.data.description}
					/>
				)
			}
		)
	}
</div>
